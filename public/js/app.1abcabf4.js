(function(t){function e(e){for(var a,n,i=e[0],s=e[1],l=e[2],u=0,d=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&d.push(c[n][0]),c[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);b&&b(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,n=1;n<o.length;n++){var i=o[n];0!==c[i]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},n={app:0},c={app:0},r=[];function i(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-095a9c03":"bef222be","chunk-4c0a0247":"e3321255","chunk-939fc910":"34646bf5","chunk-09bbef7a":"88bc5a99","chunk-1455e880":"0401ea1b","chunk-2487b823":"9d0eff29","chunk-26cce388":"e11ed5af","chunk-2d0c0fca":"9b08b42d","chunk-2d0c1f2a":"94a9af54","chunk-2d0c84b3":"43fc47e2","chunk-2d0cfe14":"ee41a18c","chunk-2d20fa52":"444f3e66","chunk-488aee38":"152c2794","chunk-63430611":"fda5258b","chunk-6ef171ab":"9c1b38ec","chunk-72cba459":"4b8e46b4","chunk-645491b0":"89667bb1","chunk-6f2a601c":"cd2242fc","chunk-94a6324c":"1f2564cb","chunk-9ab57800":"f261bc61","chunk-fa31890e":"42a673b8"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(t){var e=[],o={"chunk-4c0a0247":1,"chunk-939fc910":1,"chunk-09bbef7a":1,"chunk-1455e880":1,"chunk-2487b823":1,"chunk-26cce388":1,"chunk-488aee38":1,"chunk-63430611":1,"chunk-6ef171ab":1,"chunk-72cba459":1,"chunk-645491b0":1,"chunk-6f2a601c":1,"chunk-94a6324c":1,"chunk-9ab57800":1,"chunk-fa31890e":1};n[t]?e.push(n[t]):0!==n[t]&&o[t]&&e.push(n[t]=new Promise((function(e,o){for(var a="css/"+({}[t]||t)+"."+{"chunk-095a9c03":"31d6cfe0","chunk-4c0a0247":"e13b5694","chunk-939fc910":"386c6c92","chunk-09bbef7a":"f5724c73","chunk-1455e880":"3e3171c3","chunk-2487b823":"3033177a","chunk-26cce388":"07a9ec4f","chunk-2d0c0fca":"31d6cfe0","chunk-2d0c1f2a":"31d6cfe0","chunk-2d0c84b3":"31d6cfe0","chunk-2d0cfe14":"31d6cfe0","chunk-2d20fa52":"31d6cfe0","chunk-488aee38":"4428f756","chunk-63430611":"e94d78fb","chunk-6ef171ab":"e8c2c0b8","chunk-72cba459":"e00785b9","chunk-645491b0":"65202064","chunk-6f2a601c":"d1f5299c","chunk-94a6324c":"ba540c91","chunk-9ab57800":"3033177a","chunk-fa31890e":"2e0bacce"}[t]+".css",c=s.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===c))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===a||u===c)return e()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=e,b.onerror=function(e){var a=e&&e.target&&e.target.src||c,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[t],b.parentNode.removeChild(b),o(r)},b.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){n[t]=0})));var a=c[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,o){a=c[t]=[e,o]}));e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(b);var o=c[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,o[1](d)}c[t]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var b=u;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0957":function(t,e,o){},1:function(t,e){},"21e6":function(t,e,o){},2530:function(t,e,o){"use strict";o("3a2c")},"3a2c":function(t,e,o){},"3b89":function(t,e,o){"use strict";o("67bb")},4360:function(t,e,o){"use strict";o("a9e3"),o("fb6a");var a=o("5502"),n=o("7b17"),c=o("bc3a"),r=o.n(c),i={namespaced:!0,state:{licencia:"",password:"",tipoImpresora:"USB",tipoDatafono:"CLEARONE",impresoraCafeteria:"NO",modal:null},mutations:{testMutation:function(t,e){t.edadState=e},abrirModalMutation:function(t){t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalInstallWizard");null!=e&&(t.modal=new n["a"](e,{keyboard:!1}))},cerrarModalMutation:function(t){t.modal.hide()},resetModalMutation:function(t){t.licencia="",t.password="",t.tipoImpresora="USB",t.tipoDatafono="CLEARONE",t.impresoraCafeteria="NO"},recuperarDatosModalMutation:function(t,e){t.licencia=e.licencia,t.password=e.password,t.tipoImpresora=e.tipoImpresora,t.tipoDatafono=e.tipoDatafono,t.impresoraCafeteria=e.impresoraCafeteria}},actions:{testAction:function(t){var e=t.commit;e("testMutation",30)},abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){var e=t.commit;e("setModalMutation"),r.a.post("/parametros/todoInstalado").then((function(t){!1===t.data.todoInstalado?e("abrirModalMutation"):e("recuperarDatosModalMutation",t.data.config)}))},resetModal:function(t){var e=t.commit;e("resetModalMutation")},copyInitialData:function(t){var e=t.state;return{licencia:e.licencia,password:e.password,tipoImpresora:e.tipoImpresora,tipoDatafono:e.tipoDatafono,impresoraCafeteria:e.impresoraCafeteria}}}},s={namespaced:!0,state:{tareasState:["tarea 1","tarea 2","tarea 3"],edadState:26,modal:null,idArticulo:0,idBoton:"",precioConIva:0},mutations:{testMutation:function(t,e){t.edadState=e},abrirModalMutation:function(t,e){console.log(e),t.idArticulo=e.idArticulo,t.idBoton=e.idBoton,t.precioConIva=e.precioConIva,t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalTecladoPeso");null!=e&&(t.modal=new n["a"](e,{keyboard:!1}))},cerrarModalMutation:function(t){t.modal.hide()}},actions:{testAction:function(t){var e=t.commit;e("testMutation",30)},abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){t.commit("setModalMutation")}}},l=(o("b0c0"),{namespaced:!0,state:{cesta:{_id:-1,lista:[]},activo:null,hayRegaloEnCesta:!1,name:""},mutations:{setCestaMutation:function(t,e){t.cesta=e},setActivoMutation:function(t,e){t.activo=e},setIdMutation:function(t,e){t.cesta._id=e},setHayRegaloEnCesta:function(t,e){t.hayRegaloEnCesta=e},setName:function(t,e){t.name=e}},getters:{getItem:function(t){return t.cesta.lista[t.activo]._id},getCestaId:function(t){return t.cesta._id},getHayRegaloEnCesta:function(t){return t.hayRegaloEnCesta},getName:function(t){return t.name}},actions:{setCestaAction:function(t,e){var o=t.commit;o("setCestaMutation",e)},setActivoAction:function(t,e){var o=t.commit;o("setActivoMutation",e)},setIdAction:function(t,e){var o=t.commit;o("setIdMutation",e)},setHayRegaloEnCestaAction:function(t,e){var o=t.commit;o("setHayRegaloEnCesta",e)},setNameAction:function(t,e){var o=t.commit;o("setName",e)}}}),u={namespaced:!0,state:{ticket:{dependienta:3389,total:10,formaDePago:"EFECTIVO",detalle:[{nombre:"Coca-Cola",subtotal:1.6,unidades:1},{nombre:"Fanta",subtotal:1.6,unidades:2}]},activo:null},mutations:{setTicketAction:function(t,e){t.ticket=e},setActivoMutation:function(t,e){t.activo=e}},getters:{getItem:function(t){return t.cesta.lista[t.activo]._id}},actions:{setTicketAction:function(t,e){var o=t.commit;o("setTicketAction",e)},setActivoAction:function(t,e){var o=t.commit;o("setActivoMutation",e)}}},d={namespaced:!0,state:{hidden:!0},mutations:{setHiddenMutation:function(t,e){t.hidden=e}},actions:{setHiddenAction:function(t,e){var o=t.commit;o("setHiddenMutation",e)}}},b={namespaced:!0,state:{activo:null},mutations:{setActivoMutation:function(t,e){t.activo=e}},actions:{setActivoAction:function(t,e){var o=t.commit;o("setActivoMutation",e)}}},m={namespaced:!0,state:{cantidad:0},mutations:{setCestaMutation:function(t,e){t.cesta=e},setActivoMutation:function(t,e){t.activo=e}},getters:{},actions:{}},p={namespaced:!0,state:{arrayTrabajadores:[],trabajadorActivo:"",nombreTrabajadorActivo:""},mutations:{setArrayTrabajadoresMutation:function(t,e){t.arrayTrabajadores=e},setTrabajadorActivoMutation:function(t,e){t.trabajadorActivo=e},setNombreTrabajadorActivoMutation:function(t,e){t.nombreTrabajadorActivo=e}},getters:{getArrayTrabajadores:function(t){return t.arrayTrabajadores},getTrabajadorActivo:function(t){return t.trabajadorActivo},getNombreTrabajadorActivo:function(t){return t.nombreTrabajadorActivo}},actions:{setArrayTrabajadores:function(t,e){var o=t.commit;o("setArrayTrabajadoresMutation",e)},setTrabajadorActivo:function(t,e){var o=t.commit;o("setTrabajadorActivoMutation",e)},setNombreTrabajadorActivo:function(t,e){var o=t.commit;o("setNombreTrabajadorActivoMutation",e)}}},f={namespaced:!0,state:{infoCliente:{id:"",nombre:"",pagaEnTienda:!0,puntos:0},infoClienteVip:{nif:"",nombre:"",cp:"",direccion:"",ciudad:""},GLOVO:"CliBoti_000_{A83B364B-252F-464B-B0C3-AA89DA258F64}",DELIVEROO:"CliBoti_000_{3F7EF049-80E2-4935-9366-0DB6DED30B67}",UBER:"CliBoti_000_{2713C1E3-06C0-4099-851D-33018FD4851C}",TOO_GOOD_TO_GO:"CliBoti_000_{7A6EA7B0-3229-4A94-81EA-232F4666A7BE}"},getters:{getGlovo:function(t){return t.GLOVO},getDeliveroo:function(t){return t.DELIVEROO},getTooGoodToGo:function(t){return t.TOO_GOOD_TO_GO},getUber:function(t){return t.UBER},getInfoCliente:function(t){return t.infoCliente.id},getClientePagaEnTienda:function(t){return t.infoCliente.pagaEnTienda},getInfoClienteVip:function(t){return t.infoClienteVip},getPuntosCliente:function(t){return t.infoCliente.puntos}},mutations:{setClienteActivoMutation:function(t,e){t.infoCliente.id=e.id,t.infoCliente.nombre=e.nombre,t.infoCliente.pagaEnTienda=e.pagaEnTienda,t.infoCliente.puntos=void 0!=e.puntos?e.puntos:0},setInfoClienteVipMutation:function(t,e){t.infoClienteVip=e}},actions:{setClienteActivo:function(t,e){var o=t.commit;o("setClienteActivoMutation",e)},setInfoClienteVip:function(t,e){var o=t.commit;o("setInfoClienteVipMutation",e)},resetClienteActivo:function(t){var e=t.commit;e("setClienteActivoMutation",{id:"",nombre:"",pagaEnTienda:!0,puntos:0}),e("setInfoClienteVipMutation",{nif:"",nombre:"",cp:"",direccion:"",ciudad:""})}}},h={namespaced:!0,state:{menuActivo:0},mutations:{setMenuActivoMutation:function(t,e){t.menuActivo=e}},actions:{setMenuActivo:function(t,e){var o=t.commit;o("setMenuActivoMutation",e)},resetMenuActivo:function(t){var e=t.commit;e("setMenuActivoMutation",0)}}},v=(o("c740"),o("ac1f"),o("1276"),o("a434"),{namespaced:!0,state:{cestas:[]},mutations:{setCestasActivasMutation:function(t,e){t.cestas.push(e)},deleteCestaActivaMutation:function(t,e){var o=t.cestas.findIndex((function(t){return t.idMongo===e}));void 0!==t.cestas[o]&&"Taula"===t.cestas[o].nombre.split(" ")[0]&&t.cestas.splice(o,1)}},getters:{getCestasActivas:function(t){return t.cestas}},actions:{setCestasActivasAction:function(t,e){var o=t.commit;o("setCestasActivasMutation",e)},deleteCestaActivaAction:function(t,e){var o=t.commit;o("deleteCestaActivaMutation",e)}}}),O=o("a18c"),j={namespaced:!0,state:{cajaAbierta:!1},mutations:{setEstadoCajaMutation:function(t,e){t.cajaAbierta=e,!0===t.cajaAbierta&&O["a"].push("/")}},getters:{cajaAbierta:function(t){return t.cajaAbierta}},actions:{setEstadoCaja:function(t,e){var o=t.commit;o("setEstadoCajaMutation",e)}}},g={namespaced:!0,state:{modal:null,idArticulo:0,precioConIva:0,nombre:"",tipoIva:0},mutations:{abrirModalMutation:function(t,e){t.idArticulo=e.idArticulo,t.precioConIva=e.precioConIva,t.nombre=e.nombre,t.tipoIva=e.tipoIva,t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalEditarProducto");null!=e&&(t.modal=new n["a"](e))},cerrarModalMutation:function(t){t.modal.hide()}},getters:{getNombre:function(t){return t.nombre}},actions:{abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){t.commit("setModalMutation")}}},C={namespaced:!0,state:{modal:null,idArticulo:0,precioConIva:0,nombre:"",tipoIva:0,posicion:0,menu:""},mutations:{abrirModalMutation:function(t,e){t.posicion=e.posicion,t.menu=e.menu,t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalCrearProducto");null!=e&&(t.modal=new n["a"](e))},cerrarModalMutation:function(t){t.modal.hide()}},getters:{getPosicion:function(t){t.posicion},getMenu:function(t){t.menu}},actions:{abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){t.commit("setModalMutation")}}},A={namespaced:!0,state:{modal:null,producto:0,codiBotiga:0},mutations:{abrirModalMutation:function(t,e){t.producto=e.producto,t.codiBotiga=e.codiBotiga,t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalMostrarAlergenos");null!=e&&(t.modal=new n["a"](e))},cerrarModalMutation:function(t){t.modal.hide()}},getters:{getProducto:function(t){return t.producto}},actions:{abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){t.commit("setModalMutation")}}},M={namespaced:!0,state:{modal:null},mutations:{abrirModalMutation:function(t){t.modal.show()},setModalMutation:function(t){var e=document.getElementById("modalBuscarProducto");null!=e&&(t.modal=new n["a"](e))},cerrarModalMutation:function(t){t.modal.hide()}},getters:{getProducto:function(t){return t.producto}},actions:{abrirModal:function(t,e){var o=t.commit;o("abrirModalMutation",e)},cerrarModal:function(t){var e=t.commit;e("cerrarModalMutation")},setModal:function(t){t.commit("setModalMutation")}}};o("799c");window.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1);e["a"]=Object(a["a"])({state:{parametros:null,modoActual:"NORMAL",unidades:"0",esperandoDatafono:!1},getters:{getModoActual:function(t){return t.modoActual},getParametros:function(t){return t.parametros},getUnidades:function(t){return Number(t.unidades)},getEsperandoDatafono:function(t){return t.esperandoDatafono}},mutations:{setEsperandoDatafonoMutation:function(t,e){t.esperandoDatafono=e},setModoActualMutation:function(t,e){t.modoActual=e},setParametrosMutation:function(t,e){t.parametros=e},setUnidadesMutation:function(t,e){var o=t.unidades+e;t.unidades="".concat(Number(o))},resetUnidadesMutation:function(t){t.unidades="0"},borrarDigitoMutation:function(t){var e=t.unidades.slice(0,-1);t.unidades=""==e?"0":e}},actions:{setEsperandoDatafono:function(t,e){var o=t.commit;o("setEsperandoDatafonoMutation",e)},setModoActual:function(t,e){var o=t.commit;"DEVOLUCION"==e&&r.a.post("promociones/setEstadoPromociones",{estadoPromociones:!1}),o("setModoActualMutation",e)},setParametros:function(t,e){var o=t.commit;o("setParametrosMutation",e)},addDigitoUnidades:function(t,e){var o=t.commit;o("setUnidadesMutation",e)},resetUnidades:function(t){var e=t.commit;e("resetUnidadesMutation")},borrarDigitoUnidades:function(t){var e=t.commit;e("borrarDigitoMutation")}},modules:{InstallWizard:i,ModalPeso:s,Cesta:l,Ticket:u,Menu:d,Dinero:b,Notificaciones:m,Trabajadores:p,Clientes:f,Caja:j,Footer:h,CestasActivas:v,ModalEditarProducto:g,Alergenos:A,ModalCrearProducto:C,BuscarProductos:M}})},4421:function(t,e,o){},"461f":function(t,e,o){t.exports=o.p+"img/tooGoodToGo.847a7096.png"},"54f3":function(t,e,o){t.exports=o.p+"img/x.dd26b2cc.svg"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("7a23"),n=o("bc3a"),c=o.n(n),r={id:"app",class:"container-fluid fuenteIvan"};function i(t,e,o,n,c,i){var s=Object(a["F"])("router-view");return Object(a["x"])(),Object(a["g"])("div",r,[Object(a["k"])(s)])}o("f06f");var s=o("799c"),l=o("0180"),u=o("a18c"),d={setup:function(){Object(l["b"])();function t(){s["b"].emitSocket("enviarAlDatafono")}return{testsocket:t}}},b=(o("2530"),o("d959")),m=o.n(b);const p=m()(d,[["render",i]]);var f=p,h=o("4360");o("da96"),o("ab8b"),o("cd74"),o("7b17");c.a.defaults.baseURL="http://localhost:3000",Object(a["d"])(f).use(l["a"],{position:"bottom-center",timeout:1500}).use(h["a"]).use(u["a"]).mount("#app")},"5d49":function(t,e,o){t.exports=o.p+"img/gift.69737d7c.png"},"67bb":function(t,e,o){},"6fa6":function(t,e,o){"use strict";o("0957")},"76eb":function(t,e,o){t.exports=o.p+"img/logoGlovo.183db936.png"},"799c":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"a",(function(){return l}));var a=o("4360"),n=o("a18c"),c=o("0180"),r=o("8055"),i=r("http://localhost:5051"),s=Object(c["b"])();function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.connected&&i.emit(t,e)}i.on("disconnect",(function(){console.log("Desconectado del servidor"),i.sendBuffer=[]})),i.on("test",(function(t){console.log(t)})),i.on("resDatafono",(function(t){console.log(t)})),i.on("resConsultaPuntos",(function(t){0==t.error?s.info("Puntos del cliente: ".concat(t.info)):s.error(t.mensaje)})),i.on("consultaPaytef",(function(t){a["a"].dispatch("setEsperandoDatafono",!1),!1===t.error?(a["a"].dispatch("Cesta/setIdAction",-1),a["a"].dispatch("setModoActual","NORMAL"),a["a"].dispatch("Clientes/resetClienteActivo"),a["a"].dispatch("Footer/resetMenuActivo"),n["a"].push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}})):s.error(t.mensaje)})),i.on("resDatafono",(function(t){a["a"].dispatch("setEsperandoDatafono",!1),0==t.error?(a["a"].dispatch("Cesta/setIdAction",-1),a["a"].dispatch("setModoActual","NORMAL"),a["a"].dispatch("Clientes/resetClienteActivo"),a["a"].dispatch("Footer/resetMenuActivo"),n["a"].push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}})):s.error(t.mensaje)}))},8151:function(t,e,o){t.exports=o.p+"img/logoUber.f468ec89.png"},"82ac":function(t,e,o){"use strict";o("21e6")},a18c:function(t,e,o){"use strict";o("d3b7"),o("3ca3"),o("ddb0");var a=o("6c02"),n=o("7a23");function c(t,e,o,a,c,r){var i=Object(n["F"])("ModalMostrarAlergenos"),s=Object(n["F"])("Teclas"),l=Object(n["F"])("ModalPeso"),u=Object(n["F"])("ModalEditarProducto"),d=Object(n["F"])("ModalCrearProducto"),b=Object(n["F"])("BuscarProducto"),m=Object(n["F"])("Footer");return Object(n["x"])(),Object(n["g"])("div",null,[Object(n["k"])(i),Object(n["k"])(s),Object(n["k"])(l),Object(n["k"])(u),Object(n["k"])(d),Object(n["k"])(b),Object(n["k"])(m)])}var r={class:"modal",id:"modalMostrarAlergenos",tabindex:"-1",role:"dialog"},i={class:"modal-dialog",role:"document",style:{"max-width":"1000px"}},s={class:"modal-content"},l={class:"modal-body",style:{height:"30em"}},u=["src"];function d(t,e,o,a,c,d){return Object(n["x"])(),Object(n["g"])("div",r,[Object(n["h"])("div",i,[Object(n["h"])("div",s,[Object(n["h"])("div",l,[Object(n["h"])("iframe",{src:a.url,style:{position:"absolute",height:"90%",width:"90%",border:"none"}},null,8,u)])])])])}o("99af");var b=o("5502"),m={setup:function(){var t=Object(b["b"])(),e=(Object(a["c"])(),Object(n["C"])(0)),o=Object(n["C"])(0),c=Object(n["C"])("");return Object(n["v"])((function(){t.dispatch("Alergenos/setModal")})),Object(n["O"])((function(){return t.getters["Alergenos/getProducto"]}),(function(){o.value=t.state.Alergenos.producto,e.value=t.state.Alergenos.codiBotiga,c.value="http://silema.hiterp.com/Facturacion/ElForn/gestion/FichaTecnicaHtml.asp?codi=".concat(o.value,"&Llic=").concat(e.value)})),{url:c}}},p=(o("6fa6"),o("d959")),f=o.n(p);const h=f()(m,[["render",d],["__scopeId","data-v-b374851c"]]);var v=h,O=function(t){return Object(n["A"])("data-v-37cdd920"),t=t(),Object(n["y"])(),t},j={class:"modal fade",id:"modalBuscarProducto","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},g={class:"modal-dialog",style:{"max-width":"700px"}},C={class:"modal-content"},A=O((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Buscar Articulo"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),M={class:"modal-body"},k={class:"row"},I=O((function(){return Object(n["h"])("div",{class:"row mt-2"},null,-1)})),y={class:"row mt-2"},T={class:"table",style:{height:"400px"}},x={class:"table table-striped"},E=O((function(){return Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Nombre Articulo "),Object(n["h"])("th",{scope:"col"},"Precio")])],-1)})),P=["onClick"],w={class:"modal-footer"};function S(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])("div",j,[Object(n["h"])("div",g,[Object(n["h"])("div",C,[A,Object(n["h"])("div",M,[Object(n["h"])("div",k,[Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.buscarArticulo=t}),class:"form-control",style:{width:"350px",height:"50px","font-size":"20px"},type:"text",placeholder:"Nombre del Articulo"},null,512),[[n["N"],a.buscarArticulo]]),Object(n["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:e[1]||(e[1]=function(t){return a.buscar()})},"Buscar"),I,Object(n["h"])("div",y,[Object(n["h"])("div",T,[Object(n["h"])("table",x,[E,Object(n["h"])("tbody",null,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.arrayArticulos,(function(t,e){return Object(n["x"])(),Object(n["g"])("tr",{key:e},[Object(n["h"])("td",null,Object(n["I"])(t.nombre),1),Object(n["h"])("td",null,Object(n["I"])(t.precioConIva),1),Object(n["h"])("td",null,[Object(n["h"])("button",{type:"button",style:{width:"100px"},class:"btn btn-primary ms-2",onClick:function(e){return a.addCesta(t._id)}},"Añadir",8,P)])])})),128))])])])])])]),Object(n["h"])("div",w,[Object(n["h"])("button",{type:"button",class:"btn btn-danger btn-lg","data-bs-dismiss":"modal",onClick:e[2]||(e[2]=function(t){return a["goto"]()})},"Confirmar")])])])])}var B=o("bc3a"),D=o.n(B),N={setup:function(){var t=Object(b["b"])(),e=Object(n["C"])(""),o=Object(n["C"])([]),a=Object(n["c"])((function(){return t.state.Cesta.cesta}));function c(e){D.a.post("cestas/clickTeclaArticulo",{idArticulo:e,idBoton:"0",peso:!1,infoPeso:null,idCesta:a.value._id,unidades:0==t.getters["getUnidades"]?1:t.getters["getUnidades"]}).then((function(e){!1===e.data.error&&!1===e.data.bloqueado&&(t.dispatch("resetUnidades"),t.dispatch("Cesta/setCestaAction",e.data.cesta)),Cn.push("/")}))}function r(){Cn.push("/")}function i(){D.a.post("articulos/buscar",{busqueda:e.value}).then((function(t){o.value=t.data}))["catch"]((function(t){console.log(t)}))}return Object(n["v"])((function(){t.dispatch("BuscarProductos/setModal")})),{buscar:i,buscarArticulo:e,arrayArticulos:o,addCesta:c,goto:r}},watch:{buscarArticulo:function(){this.buscarArticulo.length>=3&&this.buscar()}}};o("3b89");const R=f()(N,[["render",S],["__scopeId","data-v-37cdd920"]]);var _=R,U=(o("ac1f"),o("5319"),function(t){return Object(n["A"])("data-v-475246ac"),t=t(),Object(n["y"])(),t}),L={key:0,class:"row pb-1",id:"menusColores"},F=["onClick"],V=["onClick"],G=["onClick"],z={key:1,class:"scrollmenu",style:{"-webkit-transform":"translateZ(0)"}},q={class:"col colJuntitasMenus menus"},H=["onClick"],K={key:0},J=["id","onClick","onContextmenu"],W={key:1},Q=["id","onTouchend","onClick"],X=["id","onClick"],Z={class:"modal fade",id:"modalSuplementos","data-backdrop":"static","data-keyboard":"false"},Y={class:"modal-dialog"},$={class:"modal-content"},tt=U((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Suplementos")],-1)})),et={class:"modal-body"},ot={class:"row"},at=["onClick"],nt=U((function(){return Object(n["h"])("br",null,null,-1)})),ct={class:"modal-footer"};function rt(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])(n["a"],null,[a.showBackButton?(Object(n["x"])(),Object(n["g"])("div",L,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.listaSubmenus,(function(t,e){return Object(n["x"])(),Object(n["g"])("div",{key:e,onClick:function(e){return a.clickSubmenu(t.tag)},class:"col colJuntitas menus",styled:"padding-left: 4px;"},[Object(n["h"])("button",{class:Object(n["r"])(["btn btn-secondary w-100 menus menusColorIvan colorMenus",[{activo:a.submenuEsActivo(t.tag)}]])},Object(n["I"])(t.nombre),3)],8,F)})),128))])):Object(n["f"])("",!0),Object(n["h"])("div",{class:Object(n["r"])(["row",[{"mb-3":!0===a.showBackButton,"p-2":!1===a.showBackButton}]]),id:"menusColores"},[a.listaMenus.length<=11?(Object(n["x"])(),Object(n["g"])(n["a"],{key:0},[a.showBackButton?(Object(n["x"])(!0),Object(n["g"])(n["a"],{key:0},Object(n["D"])(a.listaMenus,(function(t,e){return Object(n["x"])(),Object(n["g"])("div",{key:t.nomMenu,onClick:function(t){return a.clickMenu(e)},class:"col colJuntitasMenus subMenus",style:{"padding-left":"4px"}},[Object(n["h"])("button",{class:Object(n["r"])(["btn btn-secondary w-100 subMenus menusColorIvan colorMenus",[{activo:a.esActivo(e)}]])},Object(n["I"])(t.nomMenu.replace(t.tag,"")),3)],8,V)})),128)):(Object(n["x"])(!0),Object(n["g"])(n["a"],{key:1},Object(n["D"])(a.listaMenus,(function(t,e){return Object(n["x"])(),Object(n["g"])("div",{key:t.nomMenu,onClick:function(t){return a.clickMenu(e)},class:"col colJuntitasMenus menusSimples",style:{"padding-left":"4px"}},[Object(n["h"])("button",{class:Object(n["r"])(["btn btn-secondary w-100 menusSimples menusColorIvan colorMenus",[{activo:a.esActivo(e)}]])},Object(n["I"])(t.nomMenu),3)],8,G)})),128))],64)):(Object(n["x"])(),Object(n["g"])("div",z,[Object(n["h"])("div",q,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.listaMenus,(function(t,e){return Object(n["x"])(),Object(n["g"])("button",{key:e,style:{width:"200px"},class:Object(n["r"])(["btn btn-secondary menus menusColorIvan ms-2",[{activo:a.esActivo(e)},"colorMenus"]]),onClick:function(t){return a.clickMenu(e)}},Object(n["I"])(t.nomMenu),11,H)})),128))])]))],2),Object(n["h"])("div",null,[(Object(n["x"])(),Object(n["g"])(n["a"],null,Object(n["D"])(6,(function(o){return Object(n["h"])("div",{class:"row",key:o},[(Object(n["x"])(),Object(n["g"])(n["a"],null,Object(n["D"])(6,(function(c){return Object(n["h"])("div",{class:"col colJuntitas",key:c},[!0===a.listadoTeclas[6*(o-1)+(c-1)].esSumable?(Object(n["x"])(),Object(n["g"])(n["a"],{key:0},[!0===a.botonesPrecio?(Object(n["x"])(),Object(n["g"])("div",K,[Object(n["h"])("button",{id:a.listadoTeclas[6*(o-1)+(c-1)].idBoton,class:Object(n["r"])(["btn btn-primary rounded-0 w-100 teclas",[a.listadoTeclas[6*(o-1)+(c-1)].color,{invisible:-1==a.listadoTeclas[6*(o-1)+(c-1)].idArticle&&!a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)},{editarArticulos:a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)}]]),onClick:function(t){a.clickTecla(a.listadoTeclas[6*(o-1)+(c-1)]),a.mostrarInfoVisor(a.listadoTeclas[6*(o-1)+(c-1)])},onContextmenu:function(e){return t.abrirFicha(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)},style:{"background-color":"#dee3e9","font-size":"1.02vw"}},Object(n["I"])(a.listadoTeclas[6*(o-1)+(c-1)].nombreArticulo.nombre)+" "+Object(n["I"])(a.listadoTeclas[6*(o-1)+(c-1)].nombreArticulo.precio),43,J)])):(Object(n["x"])(),Object(n["g"])("div",W,[Object(n["h"])("button",{id:a.listadoTeclas[6*(o-1)+(c-1)].idBoton,class:Object(n["r"])(["btn btn-primary rounded-0 w-100 teclas",[a.listadoTeclas[6*(o-1)+(c-1)].color,{invisible:-1==a.listadoTeclas[6*(o-1)+(c-1)].idArticle&&!a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)},{editarArticulos:a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)}]]),onTouchstart:e[0]||(e[0]=function(){return a.mousedown&&a.mousedown.apply(a,arguments)}),onTouchend:function(t){return a.mouseup(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)},onClick:function(t){a.clickTecla(a.listadoTeclas[6*(o-1)+(c-1)]),a.mostrarInfoVisor(a.listadoTeclas[6*(o-1)+(c-1)])},style:{"background-color":"#dee3e9"}},Object(n["I"])(a.listadoTeclas[6*(o-1)+(c-1)].nombreArticulo.nombre),43,Q)]))],64)):(Object(n["x"])(),Object(n["g"])("button",{key:1,id:a.listadoTeclas[6*(o-1)+(c-1)].idBoton,class:Object(n["r"])(["btn btn-primary rounded-0 w-100 teclas",[a.listadoTeclas[6*(o-1)+(c-1)].color,{invisible:-1==a.listadoTeclas[6*(o-1)+(c-1)].idArticle&&!a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)},{editarArticulos:a.isEditarArticulos(a.listadoTeclas[6*(o-1)+(c-1)].idArticle)}]]),onClick:function(t){a.modalesSumable(a.listadoTeclas[6*(o-1)+(c-1)],a.listadoTeclas[6*(o-1)+(c-1)].idBoton),a.mostrarInfoVisor(a.listadoTeclas[6*(o-1)+(c-1)])},style:{"background-color":"#dee3e9"}},Object(n["I"])(a.listadoTeclas[6*(o-1)+(c-1)].nombreArticulo.nombre),11,X))])})),64))])})),64))]),Object(n["h"])("div",Z,[Object(n["h"])("div",Y,[Object(n["h"])("div",$,[tt,Object(n["h"])("div",et,[Object(n["h"])("div",ot,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.suplementos,(function(t,e){return Object(n["x"])(),Object(n["g"])("div",{key:e,class:"col mb-3"},[null!=t?(Object(n["x"])(),Object(n["g"])("button",{key:0,class:Object(n["r"])(["btn w-100 h-100 colorIvan1 btnSuplemento",[{suplementoActivo:a.checkSuplementoActivo(t._id)}]]),onClick:function(e){return a.selectSuplemento(t._id)}},[Object(n["j"])(Object(n["I"])(t.nombre)+" ",1),nt,Object(n["j"])(" "+Object(n["I"])(t.precioConIva)+" € ",1)],10,at)):Object(n["f"])("",!0)])})),128))])]),Object(n["h"])("div",ct,[Object(n["h"])("button",{type:"button",class:"btn btn-secondary btn-lg colorIvan3",onClick:e[1]||(e[1]=function(t){return a.cerrarModal(!0)})},"Cancelar"),Object(n["h"])("button",{type:"button",class:"btn btn-secondary btn-lg colorIvan4",onClick:e[2]||(e[2]=function(t){return a.addSuplemento()})},"Añadir")])])])])],64)}var it=o("ade3"),st=(o("0d03"),o("25f0"),o("7db0"),o("e25e"),o("c740"),o("a434"),o("7b17")),lt=o("0180"),ut=o("799c"),dt=o("f06f"),bt={name:"Teclas",setup:function(){var t=Object(lt["b"])(),e=Object(b["b"])(),o=null,a=null,c=Object(n["c"])((function(){return e.state.Cesta.cesta})),r=(Object(n["c"])((function(){return e.state.Caja.cajaAbierta})),Object(n["C"])([{nomMenu:""}])),i=Object(n["C"])([{nombre:"",tag:""}]),s=Object(n["C"])(!1),l=Object(n["C"])(!1),u=!1,d=!1,m=Object(n["C"])([{_id:-1,nombre:"",precioConIva:0,precioBase:0,tipoIva:0,esSumable:!0,familia:""}]),p=Object(n["C"])([]),f=0,h="01",v=!1,O=Object(n["c"])((function(){return e.state.modalPeso.edadState})),j=null,g=null,C=Object(n["C"])([]),A=Object(n["C"])([]),M=Object(n["c"])((function(){return e.state.modoActual}));function k(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&D.a.post("/cestas/borrarItemCesta",Object(it["a"])({_id:c.value._id,idArticulo:j},"idArticulo",j)).then((function(t){t.data.okey?(console.log("tecals borrar item "),e.dispatch("Cesta/setCestaAction",t.data.cestaNueva)):console.log(t.data.okey)})),g.hide()}function I(t){console.log("mouse up"),a=new Date;var n=Math.abs(a-o);n<2e3||e.dispatch("Alergenos/abrirModal",{codiBotiga:dt["a"].getParametros().codigoTienda,producto:t})}function y(){console.log("mouse down"),o=new Date}function T(t){return t===f}function x(t){return t===h}function E(o,a){D.a.post("articulos/getArticulo",{idArticulo:o.idArticle}).then((function(n){0==n.data.error?e.dispatch("ModalPeso/abrirModal",{idArticulo:o.idArticle,idBoton:a,precioConIva:n.data.info.precioConIva}):t.error(n.data.mensaje)}))}function P(t){var e=t;e.toString()}function w(){p.value=[{idBoton:"tecla0",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla1",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla2",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla3",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla4",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla5",idArticle:-1,pos:-1,color:"colorIvan1",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla6",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla7",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla8",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla9",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla10",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla11",idArticle:-1,pos:-1,color:"colorIvan2",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla12",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla13",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla14",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla15",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla16",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla17",idArticle:-1,pos:-1,color:"colorIvan3",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla18",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla19",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla20",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla21",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla22",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla23",idArticle:-1,pos:-1,color:"colorIvan4",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla24",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla25",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla26",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla27",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla28",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla29",idArticle:-1,pos:-1,color:"colorIvan5",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla30",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla31",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla32",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla33",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla34",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0},{idBoton:"tecla35",idArticle:-1,pos:-1,color:"colorIvan6",nombreArticulo:{nombre:"",precio:""},esSumable:!0}]}function S(t){console.log("entro cargarTeclado",t),w();for(var e=function(e){p.value[t[e].pos].nombreArticulo.nombre=t[e].nombreArticulo,null!=t[e].nombreArticulo?p.value[t[e].pos].idArticle=t[e].idArticle:p.value[t[e].pos].idArticle=-1,p.value[t[e].pos].esSumable=t[e].esSumable;var o=m.value.find((function(o){return o.nombre===t[e].nombreArticulo}));p.value[t[e].pos].nombreArticulo.precio=void 0!==o?"".concat(o.precioConIva,"€"):"0€"},o=0;o<t.length;o+=1)e(o)}function B(t){console.log("entramos"),d?console.log("Estoy bloqueado"):(d=!0,r.value.length>0&&D.a.post("/menus/clickMenu",{nombreMenu:r.value[t].nomMenu}).then((function(e){e.data.bloqueado?console.log("Pero donde vas, Rayo McQueen"):(f=t,d=!1,S(e.data.resultado))}))["catch"]((function(t){console.log(t),d=!1})))}function N(t){D.a.post("/doble-menus/clickMenu",{tag:t}).then((function(e){e.data.bloqueado?console.log("Kachau"):(r.value=e.data.resultado,h=t,d=!1,B(0),s.value=!1)}))}function R(){u=!0,V(!0)}function _(o){if(j=o.idArticle,"MODIFICAR_ARTICULO"!==M.value&&"MOVER_ARTICULO"!==M.value)D.a.post("cestas/clickTeclaArticulo",{idArticulo:o.idArticle,idBoton:o.idBoton,peso:!1,infoPeso:null,idCesta:c.value._id,unidades:0==e.getters["getUnidades"]?1:e.getters["getUnidades"]}).then((function(t){!1===t.data.error&&!1===t.data.bloqueado?t.data.cesta.suplementos?(C.value=t.data.cesta.data,g.show()):(e.dispatch("resetUnidades"),e.dispatch("Cesta/setCestaAction",t.data.cesta)):console.log("Error en clickTeclaArticulo"),document.activeElement.blur()}))["catch"]((function(e){console.log(e),t.error("Error. Comprobar consola"),document.activeElement.blur()}));else if(-1===j){if("MOVER_ARTICULO"===M.value){var a=parseInt(o.idBoton.replace("tecla",""));return void D.a.post("teclado/cambiarPosTecla",{idArticle:e.state.ModalEditarProducto.idArticulo,nuevaPos:a,nombreMenu:r.value[f].nomMenu}).then((function(e){e.data.error?(t.error("Error al cambiar la tecla de posición"),console.log(e.data.mensaje)):t.success("Tecla cambiada de posición")}))["catch"]((function(e){t.error("Error general"),console.log(e)}))}var n=parseInt(o.idBoton.replace("tecla",""));e.dispatch("ModalCrearProducto/abrirModal",{posicion:n,menu:r.value[f].nomMenu})}else D.a.post("articulos/getArticulo",{idArticulo:j}).then((function(o){var a=o.data;a.error?t.error("Error al editar el producto."):e.dispatch("ModalEditarProducto/abrirModal",{idArticulo:j,precioConIva:a.info.precioConIva,nombre:a.info.nombre,tipoIva:a.info.tipoIva})}))["catch"]((function(e){t.error(e.message)}))}function U(t){var e=A.value.findIndex((function(e){return e.suplemento===t}));-1===e?A.value.push({suplemento:t,activo:!0}):A.value.splice(e,1)}function L(t){var e=A.value.findIndex((function(e){return e.suplemento===t}));return-1!==e}function F(){D.a.post("cestas/addSuplemento",{idCesta:c.value._id,suplementos:A.value,idArticulo:j,posArticulo:-100}).then((function(t){t.data.error||t.data.bloqueado?console.log("Error en clickSuplemento"):(e.dispatch("resetUnidades"),console.log("añadir suplemento "),e.dispatch("Cesta/setCestaAction",t.data.cesta),A.value=[],j=null,k())}))["catch"]((function(e){console.log(e),t.error("Error. Comprobar consola")}))}function V(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];D.a.post("/doble-menus/getMenus").then((function(e){e.data.bloqueado||(e.data.resultado.length>0?(i.value=e.data.resultado,t?s.value=!0:N(e.data.resultado[0].tag),l.value=!0,u||D.a.post("/menus/getSubmenus",{tag:e.data.resultado[0].tag}).then((function(t){t.data.bloqueado?console.log("F TECLADO"):(r.value=t.data.resultado,d=!1,B(0))}))):s.value=!1)}))}function G(t){return("MODIFICAR_ARTICULO"===M.value||"MOVER_ARTICULO"===M.value)&&-1===t}return w(),l.value||D.a.post("/menus/getMenus").then((function(t){t.data.bloqueado?console.log("EN ESTE MOMENTO NO ES POSIBLE CARGAR EL TECLADO"):(r.value=t.data.resultado,B(0))})),V(),Object(n["v"])((function(){D.a.post("impresora/bienvenida"),g=new st["a"](document.getElementById("modalSuplementos"),{keyboard:!1,backdrop:"static"}),document.onselectstart=function(){return!1},dt["a"].iniciarToc()})),{mousedown:y,mouseup:I,edadState:O,listaMenus:r,menuActivo:f,listadoTeclas:p,esActivo:T,botonesPrecio:v,clickMenu:B,clickTecla:_,mostrarInfoVisor:P,modalesSumable:E,dobleMenu:s,listaSubmenus:i,clickSubmenu:N,submenuEsActivo:x,showBackButton:l,goBackSubmenus:R,suplementos:C,addSuplemento:F,cerrarModal:k,suplementosSeleccionados:A,selectSuplemento:U,checkSuplementoActivo:L,isEditarArticulos:G}}};o("e6d6");const mt=f()(bt,[["render",rt],["__scopeId","data-v-475246ac"]]);var pt=mt,ft={class:"modal",id:"modalTecladoPeso",tabindex:"-1",role:"dialog"},ht={class:"modal-dialog",role:"document",style:{"max-width":"600px"}},vt={class:"modal-content"},Ot=Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Introduce los gramos")],-1),jt={class:"modal-body"},gt={class:"row"},Ct={class:"col-md-4"},At={class:"text-center",style:{"font-size":"40px"}},Mt=Object(n["h"])("br",null,null,-1),kt=Object(n["j"])("g."),It=Object(n["h"])("hr",null,null,-1),yt={class:"text-center",style:{"font-size":"40px"}},Tt={class:"col-md-8"},xt={class:"btn-group-vertical",role:"group"},Et={class:"btn-group"},Pt={class:"btn-group"},wt={class:"btn-group"},St={class:"btn-group"},Bt={class:"modal-footer"};function Dt(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])("div",ft,[Object(n["h"])("div",ht,[Object(n["h"])("div",vt,[Ot,Object(n["h"])("div",jt,[Object(n["h"])("div",gt,[Object(n["h"])("div",Ct,[Object(n["h"])("span",At,[Object(n["j"])(Object(n["I"])(a.getUnidades),1),Mt,kt]),It,Object(n["h"])("span",yt,Object(n["I"])(Math.round(100*a.getPrecio)/100)+" €",1)]),Object(n["h"])("div",Tt,[Object(n["h"])("div",xt,[Object(n["h"])("div",Et,[Object(n["h"])("a",{class:"boton",onClick:e[0]||(e[0]=function(t){return a.agregarTecla(7)})},"7"),Object(n["h"])("a",{class:"boton",onClick:e[1]||(e[1]=function(t){return a.agregarTecla(8)})},"8"),Object(n["h"])("a",{class:"boton",onClick:e[2]||(e[2]=function(t){return a.agregarTecla(9)})},"9")]),Object(n["h"])("div",Pt,[Object(n["h"])("a",{class:"boton",onClick:e[3]||(e[3]=function(t){return a.agregarTecla(4)})},"4"),Object(n["h"])("a",{class:"boton",onClick:e[4]||(e[4]=function(t){return a.agregarTecla(5)})},"5"),Object(n["h"])("a",{class:"boton",onClick:e[5]||(e[5]=function(t){return a.agregarTecla(6)})},"6")]),Object(n["h"])("div",wt,[Object(n["h"])("a",{class:"boton",onClick:e[6]||(e[6]=function(t){return a.agregarTecla(1)})},"1"),Object(n["h"])("a",{class:"boton",onClick:e[7]||(e[7]=function(t){return a.agregarTecla(2)})},"2"),Object(n["h"])("a",{class:"boton",onClick:e[8]||(e[8]=function(t){return a.agregarTecla(3)})},"3")]),Object(n["h"])("div",St,[Object(n["h"])("a",{class:"boton",onClick:e[9]||(e[9]=function(t){return a.eliminarTecla()})},"<"),Object(n["h"])("a",{class:"boton",onClick:e[10]||(e[10]=function(t){return a.agregarTecla(0)})},"0")])])])])]),Object(n["h"])("div",Bt,[Object(n["h"])("button",{type:"button",class:"btn btn-secondary",onClick:e[11]||(e[11]=function(t){return a.mostrarAlergenos()})},"Mostrar Alergenos "),Object(n["h"])("button",{type:"button",class:"btn btn-secondary btn-lg mr-0",onClick:e[12]||(e[12]=function(t){return a.confirmar()})},"OK ")])])])])}o("a9e3"),o("fb6a");var Nt={name:"ModalPeso",setup:function(){var t=Object(b["b"])(),e=Object(lt["b"])(),o=Object(n["C"])("0"),a=Object(n["c"])((function(){return t.state.Cesta.cesta})),c=Object(n["c"])((function(){return t.state.ModalPeso})),r=Object(n["c"])((function(){var t=parseInt(o.value,10);return t.isNaN?0:t})),i=Object(n["c"])((function(){return Number(o.value)/1e3*c.value.precioConIva}));function s(t){o.value+=String(t)}function l(){o.value=o.value.slice(0,-1)}function u(){var e=c.value.idArticulo;t.dispatch("Alergenos/abrirModal",{codiBotiga:dt["a"].getParametros().codigoTienda,idArticulo:e}),t.dispatch("ModalPeso/cerrarModal")}function d(){t.dispatch("ModalPeso/cerrarModal"),D.a.post("cestas/clickTeclaArticulo",{idArticulo:c.value.idArticulo,idBoton:c.value.idBoton,peso:!0,infoAPeso:{peso:o.value,precioAplicado:i.value},idCesta:a.value._id}).then((function(o){!1===o.data.error&&!1===o.data.bloqueado?t.dispatch("Cesta/setCestaAction",o.data.cesta):e.error(o.data.error)}))["catch"]((function(t){e.error("Error. Comprobar consola: "+t.message)})),o.value="0"}return Object(n["v"])((function(){t.dispatch("ModalPeso/setModal")})),{confirmar:d,eliminarTecla:l,agregarTecla:s,getPrecio:i,getUnidades:r,mostrarAlergenos:u}}};const Rt=f()(Nt,[["render",Dt]]);var _t=Rt,Ut=(o("1276"),function(t){return Object(n["A"])("data-v-121b0fb0"),t=t(),Object(n["y"])(),t}),Lt={class:"modal",id:"modalEditarProducto",tabindex:"-1",role:"dialog"},Ft={class:"modal-dialog",role:"document",style:{"max-width":"600px"}},Vt={class:"modal-content"},Gt=Ut((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Datos del producto")],-1)})),zt={class:"modal-body"},qt={class:"row"},Ht={for:"nombre"},Kt=Object(n["j"])("Nombre producto "),Jt=Ut((function(){return Object(n["h"])("label",{for:"tipoIva"},"Tipo de IVA",-1)})),Wt=Ut((function(){return Object(n["h"])("option",{value:"1.04"},"4%",-1)})),Qt=Ut((function(){return Object(n["h"])("option",{value:"1.10"},"10%",-1)})),Xt=Ut((function(){return Object(n["h"])("option",{value:"1.21"},"21%",-1)})),Zt=[Wt,Qt,Xt],Yt=Ut((function(){return Object(n["h"])("label",{for:"esSumable"},"¿Se vende a unidades?",-1)})),$t=Ut((function(){return Object(n["h"])("option",{value:"true"},"Si",-1)})),te=Ut((function(){return Object(n["h"])("option",{value:"false"},"No",-1)})),ee=[$t,te],oe={for:"precioIva"},ae={class:"modal-footer"};function ne(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])("div",Lt,[Object(n["h"])("div",Ft,[Object(n["h"])("div",Vt,[Gt,Object(n["h"])("div",zt,[Object(n["h"])("div",qt,[Object(n["h"])("label",Ht,[Kt,Object(n["R"])(Object(n["h"])("input",{id:"nombre",type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.nombre=t})},null,512),[[n["N"],a.nombre]])]),Jt,Object(n["R"])(Object(n["h"])("select",{name:"tipoIva",id:"tipoIva","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.tipoIva=t}),class:"form-control"},Zt,512),[[n["M"],a.tipoIva]]),Yt,Object(n["R"])(Object(n["h"])("select",{name:"esSumable",id:"esSumable","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.esSumable=t}),class:"form-control"},ee,512),[[n["M"],a.esSumable]]),Object(n["h"])("label",oe,[Object(n["j"])("Precio con "+Object(n["I"])(parseInt(a.tipoIva.toString().split(".")[1]))+"% de IVA ",1),Object(n["R"])(Object(n["h"])("input",{id:"precioIva",type:"number",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.precioConIva=t})},null,512),[[n["N"],a.precioConIva]])])])]),Object(n["h"])("div",ae,[Object(n["h"])("button",{type:"button",class:"btn btn-success mr-0",onClick:e[4]||(e[4]=function(t){return a.cambiarPosicion()})},"Cambiar posición "),Object(n["h"])("button",{type:"button",class:"btn btn-primary mr-0",onClick:e[5]||(e[5]=function(t){return a.confirmar()})},"OK ")])])])])}o("acd8");var ce={name:"EditarProducto",setup:function(){Object(lt["b"])();var t=Object(b["b"])(),e=Object(n["C"])(0),o=Object(n["C"])(0),a=Object(n["C"])(0),c=Object(n["C"])(""),r=Object(n["C"])(-1),i=Object(n["C"])([]),s=Object(n["C"])(!0);function l(){D.a.post("articulos/editarArticulo",{idArticulo:r.value,nombre:c.value,precioBase:parseFloat(o.value)/parseFloat(a.value),precioConIva:parseFloat(o.value)}).then((function(e){console.log(e),t.dispatch("ModalEditarProducto/cerrarModal")}))}function u(){t.dispatch("ModalEditarProducto/cerrarModal"),t.dispatch("setModoActual","MOVER_ARTICULO")}return Object(n["v"])((function(){t.dispatch("ModalEditarProducto/setModal")})),Object(n["O"])((function(){return t.getters["ModalEditarProducto/getNombre"]}),(function(){console.log(t.state.ModalEditarProducto),c.value=t.state.ModalEditarProducto.nombre,o.value=t.state.ModalEditarProducto.precioConIva,r.value=t.state.ModalEditarProducto.idArticulo,a.value=1==t.state.ModalEditarProducto.tipoIva?"1.04":2==t.state.ModalEditarProducto.tipoIva?"1.10":"1.21",console.log(t.state.ModalEditarProducto.esSumable),s.value=t.state.ModalEditarProducto.esSumable,console.log(s.value)})),{nombre:c,precioBase:e,precioConIva:o,id:r,tipoIva:a,confirmar:l,menus:i,cambiarPosicion:u,esSumable:s}}};o("de34");const re=f()(ce,[["render",ne],["__scopeId","data-v-121b0fb0"]]);var ie=re,se=(o("b680"),o("fa0c")),le=o.n(se),ue=o("76eb"),de=o.n(ue),be=o("8151"),me=o.n(be),pe=o("461f"),fe=o.n(pe),he=o("5d49"),ve=o.n(he),Oe=o("54f3"),je=o.n(Oe),ge=function(t){return Object(n["A"])("data-v-2084976c"),t=t(),Object(n["y"])(),t},Ce={class:"row pt-1 align-items-center"},Ae={key:0,class:"col text-center",style:{"max-width":"245px","max-height":"196px"}},Me={class:"row ms-2",style:{"max-width":"220px"}},ke=ge((function(){return Object(n["h"])("i",{class:"bi bi-list display-6"},null,-1)})),Ie=[ke],ye=ge((function(){return Object(n["h"])("i",{class:"bi bi-printer-fill display-6"},null,-1)})),Te=[ye],xe=ge((function(){return Object(n["h"])("i",{class:"bi bi-search display-6"},null,-1)})),Ee=[xe],Pe={class:"row mt-1 ms-2",style:{"max-width":"220px"}},we=ge((function(){return Object(n["h"])("button",{style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm menusColorIvan","data-bs-toggle":"modal","data-bs-target":"#modalClientes"},[Object(n["h"])("i",{class:"bi bi-person-fill display-6"})],-1)})),Se=ge((function(){return Object(n["h"])("i",{class:"bi bi-cart-plus-fill display-6"},null,-1)})),Be=ge((function(){return Object(n["h"])("br",null,null,-1)})),De=ge((function(){return Object(n["h"])("i",{class:"bi bi-cart-plus-fill display-6"},null,-1)})),Ne=[De],Re={class:"row mt-1 ms-2",style:{"max-width":"220px"}},_e=ge((function(){return Object(n["h"])("button",{style:{"max-width":"106px"},"data-bs-toggle":"modal","data-bs-target":"#modalUnidades",class:"btn btn-secondary botonesPrincipales btn-sm menusColorIvan"},[Object(n["h"])("i",{class:"bi bi-calculator display-6"})],-1)})),Ue={key:0,class:"bi bi-trash display-6"},Le={key:1,class:"bi bi-x-lg display-6"},Fe={key:0,class:"estiloVip"},Ve={key:1,class:"estiloConsumoPersonal"},Ge={key:2,class:"estiloConsumoPersonal"},ze={key:3,class:"tipoDevolucion"},qe={key:4,class:"tipoDevolucion"},He={key:5,class:"tipoDevolucion"},Ke={key:6,class:"tipoNormal"},Je={key:7,class:"infoCliente"},We={key:8,class:"infoCliente"},Qe={key:2,class:"col text-center",style:{"max-width":"245px","max-height":"196px"}},Xe=ge((function(){return Object(n["h"])("img",{src:le.a,width:"200",alt:"Logo Deliveroo"},null,-1)})),Ze=[Xe],Ye={key:3,class:"col text-center",style:{"max-width":"245px","max-height":"196px"}},$e=ge((function(){return Object(n["h"])("img",{src:de.a,width:"200",alt:"Logo Glovo"},null,-1)})),to=[$e],eo={key:4,class:"col text-center",style:{"max-width":"245px","max-height":"196px"}},oo=ge((function(){return Object(n["h"])("img",{src:me.a,width:"200",alt:"Logo Uber"},null,-1)})),ao=[oo],no={key:5,class:"col text-center",style:{"max-width":"245px","max-height":"196px"}},co=ge((function(){return Object(n["h"])("img",{src:fe.a,width:"200",alt:"Logo Too Good To Go"},null,-1)})),ro=[co],io=ge((function(){return Object(n["h"])("div",{class:"row"},[Object(n["h"])("button",{class:"btn rotate rounded-0"},[Object(n["h"])("i",{class:"bi bi-star display-6"})])],-1)})),so=[io],lo={class:"col ms-3"},uo={class:"table-responsive estiloCesta section",style:{height:"26vh !important"}},bo={class:"table fuenteIvan colorFuente",id:"job-table"},mo={style:{"background-color":"red"}},po=ge((function(){return Object(n["h"])("th",{scope:"col"},"Productos",-1)})),fo=ge((function(){return Object(n["h"])("th",{scope:"col"},"Cantidad",-1)})),ho=ge((function(){return Object(n["h"])("th",{scope:"col"},"Precio",-1)})),vo={key:0,scope:"col"},Oo=["onClick"],jo=["onClick"],go=["onClick"],Co={key:0},Ao=["onClick"],Mo={key:1},ko=ge((function(){return Object(n["h"])("img",{src:je.a,width:"30",alt:"No se puede regalar"},null,-1)})),Io=[ko],yo={class:"col"},To=ge((function(){return Object(n["h"])("div",{class:"row me-1"},null,-1)})),xo={class:"row me-1 mt-1"},Eo={class:"btn btn-secondary w-100 botonesPrincipales menusColorIvan mb-1"},Po={style:{"font-size":"14px"}},wo={class:"btn btn-secondary w-100 botonesPrincipales menusColorIvan"},So=ge((function(){return Object(n["h"])("i",{class:"bi bi-bell-fill display-6"},null,-1)})),Bo={class:"row mt-1 me-1"},Do=ge((function(){return Object(n["h"])("i",{class:"bi bi-cash-coin sizeBotonCobrar"},null,-1)})),No={class:"sizeBotonCobrar"},Ro={class:"modal fade",id:"modalUnidades",tabindex:"-1"},_o={class:"modal-dialog"},Uo={class:"modal-content"},Lo=ge((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Introduce las unidades"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Fo={class:"modal-body"},Vo={class:"row"},Go={class:"col text-center"},zo={class:"unidadesStyle"},qo={class:"row"},Ho={class:"col ps-5",style:{"max-width":"325px"}},Ko={class:"btn-group-vertical",role:"group"},Jo={class:"btn-group"},Wo={class:"btn-group"},Qo={class:"btn-group"},Xo={class:"btn-group"},Zo=ge((function(){return Object(n["h"])("div",{class:"text-center"},[Object(n["h"])("button",{type:"button",class:"btn btn-primary btn-lg","data-bs-dismiss":"modal"},"Aceptar")],-1)})),Yo={class:"modal fade",id:"modalSuplementosModificar","data-backdrop":"static","data-keyboard":"false"},$o={class:"modal-dialog"},ta={class:"modal-content"},ea=ge((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Modificar suplementos")],-1)})),oa={class:"modal-body"},aa={class:"row"},na=["onClick"],ca=ge((function(){return Object(n["h"])("br",null,null,-1)})),ra={class:"modal-footer"},ia={style:{position:"fixed",bottom:"2px",left:"2px"}},sa={style:{"font-weight":"bold"}};function la(t,e,o,a,c,r){var i=Object(n["F"])("router-link"),s=Object(n["F"])("MenuClientes");return Object(n["x"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",Ce,[0===a.menuActivo?(Object(n["x"])(),Object(n["g"])("div",Ae,[Object(n["h"])("div",Me,[Object(n["h"])("button",{style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm menusColorIvan",onClick:e[0]||(e[0]=function(){return a.showMenu&&a.showMenu.apply(a,arguments)})},Ie),!0===a.ProhibirCercaArticles?(Object(n["x"])(),Object(n["g"])("button",{key:0,style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm ms-1 menusColorIvan",onClick:e[1]||(e[1]=function(t){return a.imprimirTicket()})},Te)):(Object(n["x"])(),Object(n["g"])("button",{key:1,style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm ms-1 menusColorIvan",onClick:e[2]||(e[2]=function(t){return a.abrirBuscar()})},Ee))]),Object(n["h"])("div",Pe,[we,!0===a.TriaTaula?(Object(n["x"])(),Object(n["e"])(i,{key:0,style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm ms-1 menusColorIvan",to:"/mesas"},{default:Object(n["Q"])((function(){return[Se,Be,Object(n["j"])(" "+Object(n["I"])(a.mesa),1)]})),_:1})):(Object(n["x"])(),Object(n["g"])("button",{key:1,style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm ms-1 menusColorIvan",onClick:e[3]||(e[3]=function(t){return a.opcionDesabilitada()})},Ne))]),Object(n["h"])("div",Re,[_e,Object(n["h"])("button",{style:{"max-width":"106px"},class:"btn btn-secondary botonesPrincipales btn-sm ms-1 menusColorIvan",onClick:e[4]||(e[4]=function(t){return a.borrar()})},[null===a.activo?(Object(n["x"])(),Object(n["g"])("i",Ue)):(Object(n["x"])(),Object(n["g"])("i",Le))])])])):Object(n["f"])("",!0),1===a.menuActivo&&a.infoCliente.id!=a.DELIVEROO&&a.infoCliente.id!=a.GLOVO&&a.infoCliente.id!=a.UBER&&a.infoCliente.id!=a.TOO_GOOD_TO_GO?(Object(n["x"])(),Object(n["g"])("div",{key:1,class:Object(n["r"])(["col text-center",{tipoNormal:"NORMAL"===a.modoActual,tipoDevolucion:"DEVOLUCION"===a.modoActual,tipoCliente:"CLIENTE"===a.modoActual}]),style:{"max-width":"245px","max-height":"196px"}},["VIP"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",Fe,Object(n["I"])(a.modoActual),1)):Object(n["f"])("",!0),"CONSUMO PERSONAL"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",Ve,"CONSUMO")):Object(n["f"])("",!0),"CONSUMO PERSONAL"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",Ge,"PERSONAL")):Object(n["f"])("",!0),"DEVOLUCION"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",ze,Object(n["I"])(a.modoActual),1)):Object(n["f"])("",!0),"MODIFICAR_ARTICULO"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",qe,"EDITAR ARTÍCULOS")):Object(n["f"])("",!0),"MOVER_ARTICULO"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",He,"MOVER ARTÍCULO")):Object(n["f"])("",!0),"NORMAL"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",Ke,Object(n["I"])(a.modoActual),1)):Object(n["f"])("",!0),"CLIENTE"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",Je,Object(n["I"])(a.infoCliente.puntos)+" puntos ",1)):Object(n["f"])("",!0),"CLIENTE"==a.modoActual?(Object(n["x"])(),Object(n["g"])("p",We,Object(n["I"])(a.infoCliente.nombre),1)):Object(n["f"])("",!0)],2)):Object(n["f"])("",!0),a.infoCliente.id===a.DELIVEROO&&1===a.menuActivo?(Object(n["x"])(),Object(n["g"])("div",Qe,Ze)):Object(n["f"])("",!0),a.infoCliente.id===a.GLOVO&&1===a.menuActivo?(Object(n["x"])(),Object(n["g"])("div",Ye,to)):Object(n["f"])("",!0),a.infoCliente.id===a.UBER&&1===a.menuActivo?(Object(n["x"])(),Object(n["g"])("div",eo,ao)):Object(n["f"])("",!0),a.infoCliente.id===a.TOO_GOOD_TO_GO&&1===a.menuActivo?(Object(n["x"])(),Object(n["g"])("div",no,ro)):Object(n["f"])("",!0),Object(n["h"])("div",{class:"col",style:{"max-width":"50px"},onTouchstart:e[5]||(e[5]=function(){return a.touchStart&&a.touchStart.apply(a,arguments)}),onTouchend:e[6]||(e[6]=function(){return a.touchEnd&&a.touchEnd.apply(a,arguments)}),onClick:e[7]||(e[7]=function(t){return a.cambiarMenu()})},so,32),Object(n["h"])("div",lo,[Object(n["h"])("div",uo,[Object(n["h"])("table",bo,[Object(n["h"])("thead",mo,[Object(n["h"])("tr",null,[po,fo,ho,a.infoCliente.puntos>0?(Object(n["x"])(),Object(n["g"])("th",vo,"Regalo")):Object(n["f"])("",!0)])]),Object(n["h"])("tbody",{class:"tableBody",style:Object(n["s"])(a.conCliente)},[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.cestaAlReves,(function(t,e){return Object(n["x"])(),Object(n["g"])("tr",{key:e,class:Object(n["r"])({estiloPromo:t.promocion.esPromo,seleccionado:a.activo===e})},[Object(n["h"])("td",{onClick:function(t){return a.setActivo(e)}},Object(n["I"])(t.nombre),9,Oo),Object(n["h"])("td",{onClick:function(t){return a.setActivo(e)}},Object(n["I"])(t.unidades),9,jo),Object(n["h"])("td",{onClick:function(t){return a.setActivo(e)}},Object(n["I"])(t.subtotal.toFixed(2)),9,go),a.infoCliente.puntos>0&&0==t.promocion.esPromo&&a.sePuedeRegalar(t.subtotal,t._id)?(Object(n["x"])(),Object(n["g"])("td",Co,[Object(n["h"])("img",{onClick:function(t){return a.regalar(e)},src:ve.a,alt:"Regalo"},null,8,Ao)])):Object(n["f"])("",!0),a.infoCliente.puntos>0&&(!a.sePuedeRegalar(t.subtotal,t._id)||1==t.promocion.esPromo)?(Object(n["x"])(),Object(n["g"])("td",Mo,Io)):Object(n["f"])("",!0)],2)})),128))],4)])])]),Object(n["h"])("div",yo,[To,Object(n["h"])("div",xo,[Object(n["h"])("button",Eo,[Object(n["h"])("span",Po,Object(n["I"])(a.nombreTrabajador),1)]),Object(n["h"])("button",wo,[So,Object(n["h"])("span",{style:{"font-size":"27px"},class:Object(n["r"])({"bg-warning":a.notificaciones>0})},"   Mensajes: "+Object(n["I"])(a.notificaciones)+"  ",3)])]),Object(n["h"])("div",Bo,[Object(n["h"])("button",{class:"btn btn-secondary w-100 botonesPrincipales menusColorIvan",onClick:e[8]||(e[8]=function(t){return a.goToCobrar()})},[Do,Object(n["h"])("span",No," "+Object(n["I"])("MODIFICAR_ARTICULO"===a.modoActual||"MOVER_ARTICULO"===a.modoActual?"OK":"".concat(a.thisIsCatalunya,"€")),1)])])]),Object(n["k"])(s)]),Object(n["h"])("div",Ro,[Object(n["h"])("div",_o,[Object(n["h"])("div",Uo,[Lo,Object(n["h"])("div",Fo,[Object(n["h"])("div",Vo,[Object(n["h"])("div",Go,[Object(n["h"])("span",zo,Object(n["I"])(a.unidades)+" uds.",1)])]),Object(n["h"])("div",qo,[Object(n["h"])("div",Ho,[Object(n["h"])("div",Ko,[Object(n["h"])("div",Jo,[Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[9]||(e[9]=function(t){return a.agregarTecla("7")})},"7"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[10]||(e[10]=function(t){return a.agregarTecla("8")})},"8"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[11]||(e[11]=function(t){return a.agregarTecla("9")})},"9")]),Object(n["h"])("div",Wo,[Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[12]||(e[12]=function(t){return a.agregarTecla("4")})},"4"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[13]||(e[13]=function(t){return a.agregarTecla("5")})},"5"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[14]||(e[14]=function(t){return a.agregarTecla("6")})},"6")]),Object(n["h"])("div",Qo,[Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[15]||(e[15]=function(t){return a.agregarTecla("1")})},"1"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[16]||(e[16]=function(t){return a.agregarTecla("2")})},"2"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[17]||(e[17]=function(t){return a.agregarTecla("3")})},"3")]),Object(n["h"])("div",Xo,[Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[18]||(e[18]=function(t){return a.borrarDigitoUnidades()})},"C"),Object(n["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[19]||(e[19]=function(t){return a.agregarTecla("0")})},"0")])])])])]),Zo])])]),Object(n["h"])("div",Yo,[Object(n["h"])("div",$o,[Object(n["h"])("div",ta,[ea,Object(n["h"])("div",oa,[Object(n["h"])("div",aa,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.suplementos,(function(t,e){return Object(n["x"])(),Object(n["g"])("div",{key:e,class:"col mb-3"},[Object(n["h"])("button",{class:Object(n["r"])(["btn w-100 h-100 colorIvan1 btnSuplemento",[{suplementoActivo:a.checkSuplementoActivo(t._id)}]]),onClick:function(e){return a.selectSuplemento(t._id)}},[Object(n["j"])(Object(n["I"])(t.nombre)+" ",1),ca,Object(n["j"])(" "+Object(n["I"])(t.precioConIva)+" € ",1)],10,na)])})),128))])]),Object(n["h"])("div",ra,[Object(n["h"])("button",{type:"button",class:"btn btn-secondary btn-lg colorIvan4",onClick:e[20]||(e[20]=function(t){return a.addSuplemento()})},"OK")])])])]),Object(n["h"])("div",ia,[Object(n["h"])("span",sa,"(v"+Object(n["I"])(a.tocVersion)+") ("+Object(n["I"])(a.nombreTienda)+") "+Object(n["I"])(a.getClock),1)])],64)}o("e323"),o("4795"),o("b65f"),o("26e9");var ua=function(t){return Object(n["A"])("data-v-345ee70e"),t=t(),Object(n["y"])(),t},da={class:"modal",id:"modalClientes",tabindex:"-1",role:"dialog","data-keyboard":"false","data-backdrop":"static"},ba={class:"modal-dialog",role:"document",style:{"max-width":"800px"}},ma={class:"modal-content"},pa={class:"modal-header"},fa=ua((function(){return Object(n["h"])("button",{type:"button",class:"btn btn-success btn-lg mr-0","data-bs-toggle":"modal","data-bs-target":"#modalNuevoCliente"}," NUEVO ",-1)})),ha=ua((function(){return Object(n["h"])("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"}," SALIR ",-1)})),va={class:"modal-body"},Oa={class:"row"},ja={class:"col-md-12"},ga={class:"table-responsive w-100",style:{height:"400px"}},Ca={class:"table table-striped mt-1"},Aa=ua((function(){return Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{class:"clientesAnchoNombre",scope:"col"},"Nombre"),Object(n["h"])("th",{class:"clientesAnchoBotones",scope:"col"})])],-1)})),Ma={class:"clientesAnchoNombre"},ka={class:"clientesAnchoBotones"},Ia=["onClick"],ya={class:"modal",id:"modalNuevoCliente",tabindex:"-1",role:"dialog","data-keyboard":"false","data-backdrop":"static"},Ta={class:"modal-dialog",role:"document",style:{"max-width":"800px"}},xa={class:"modal-content"},Ea=ua((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h4",null,"Crear nuevo cliente")],-1)})),Pa={class:"modal-body"},wa={class:"row mx-auto"},Sa=ua((function(){return Object(n["h"])("label",{for:"exampleInputEmail1",class:"form-label"},"Nombre Cliente",-1)})),Ba=ua((function(){return Object(n["h"])("label",{for:"exampleInputEmail1",class:"form-label mt-4"},"Nº Tarjeta",-1)})),Da={class:"modal-footer"},Na=ua((function(){return Object(n["h"])("div",{id:"eventoLector"},null,-1)}));function Ra(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",da,[Object(n["h"])("div",ba,[Object(n["h"])("div",ma,[Object(n["h"])("div",pa,[Object(n["h"])("button",{type:"button",class:"btn btn-warning btn-lg mr-0",onClick:e[0]||(e[0]=function(t){return a.selectGlovo()})}," Glovo "),Object(n["h"])("button",{type:"button",class:"btn btn-info btn-lg mr-0",onClick:e[1]||(e[1]=function(t){return a.selectUber()})}," Uber "),Object(n["h"])("button",{type:"button",class:"btn btn-dark btn-lg mr-0",onClick:e[2]||(e[2]=function(t){return a.selectToGoodToGo()})}," To Go "),fa,Object(n["h"])("button",{type:"button",class:"btn btn-danger btn-lg mr-0",onClick:e[3]||(e[3]=function(t){return a.reset()})}," RESET "),ha]),Object(n["h"])("div",va,[Object(n["h"])("div",Oa,[Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.inputBusqueda=t}),style:{width:"659px",height:"50px","font-size":"20px"},type:"text",class:"form-control",placeholder:"Nombre cliente"},null,512),[[n["N"],a.inputBusqueda]]),Object(n["h"])("button",{onClick:e[5]||(e[5]=function(t){return a.buscar()}),style:{width:"100px",height:"50px","font-size":"22px"},class:"btn btn-primary ms-1"},"Buscar"),Object(n["h"])("div",ja,[Object(n["h"])("div",ga,[Object(n["h"])("table",Ca,[Aa,Object(n["h"])("tbody",null,[(Object(n["x"])(!0),Object(n["g"])(n["a"],null,Object(n["D"])(a.arrayClientes,(function(t,e){return Object(n["x"])(),Object(n["g"])("tr",{key:e},[Object(n["h"])("td",Ma,Object(n["I"])(t.nombre),1),Object(n["h"])("td",ka,[Object(n["h"])("button",{onClick:function(e){return a.selectCliente(t)},href:"#",class:"btn btn-primary btn-lg",style:{width:"150px"}}," Seleccionar ",8,Ia)])])})),128))])])])])])])])])]),Object(n["h"])("div",ya,[Object(n["h"])("div",Ta,[Object(n["h"])("div",xa,[Ea,Object(n["h"])("div",Pa,[Object(n["h"])("div",wa,[Sa,Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return a.nombreClienteNuevo=t}),style:{width:"659px",height:"50px","font-size":"20px"},type:"text",class:"form-control"},null,512),[[n["N"],a.nombreClienteNuevo]]),Ba,Object(n["R"])(Object(n["h"])("input",{"onUpdate:modelValue":e[7]||(e[7]=function(t){return a.nTarjetaNueva=t}),style:{width:"659px",height:"50px","font-size":"20px"},type:"number",class:"form-control"},null,512),[[n["N"],a.nTarjetaNueva]])])]),Object(n["h"])("div",Da,[Object(n["h"])("button",{type:"submit",class:"btn btn-success mx-auto",onClick:e[8]||(e[8]=function(t){return a.nuevoCliente()}),"data-bs-dismiss":"modal"},"Crear cliente")])])])]),Na],64)}var _a={name:"MenuClientes",setup:function(){var t=Object(lt["b"])(),e=Object(b["b"])(),o=e.getters["Clientes/getGlovo"],a=(e.getters["Clientes/getDeliveroo"],e.getters["Clientes/getUber"]),c=e.getters["Clientes/getTooGoodToGo"],r="Santy",i=Object(n["C"])(""),s=Object(n["C"])(""),l=Object(n["C"])(""),u=Object(n["c"])((function(){return e.state.Clientes.clienteActivo})),d=Object(n["C"])([]),m=null;function p(){D.a.post("clientes/getClienteByID",{idCliente:o}).then((function(e){e.data.error?t.error(e.data.mensaje):j(e.data.infoCliente)}))["catch"]((function(e){console.log(e),t.error(res.data.mensaje)}))}function f(){D.a.post("clientes/getClienteByID",{idCliente:c}).then((function(e){e.data.error?t.error(e.data.mensaje):j(e.data.infoCliente)}))["catch"]((function(e){console.log(e),t.error(res.data.mensaje)}))}function h(){D.a.post("clientes/getClienteByID",{idCliente:a}).then((function(e){e.data.error?t.error(e.data.mensaje):j(e.data.infoCliente)}))["catch"]((function(e){console.log(e),t.error(res.data.mensaje)}))}function v(){D.a.post("clientes/crearNuevoCliente",{idTarjetaCliente:l.value,nombreCliente:s.value}).then((function(e){e.data.error?t.error(e.data.mensaje):(t.success("Cliente creado con éxito."),D.a.post("clientes/descargarClientesFinales").then((function(e){0==e.data.error?(s.value="",l.value="",t.success("Clientes descargados OK")):t.error(e.data.mensaje)}))["catch"]((function(e){console.log(e),t.error("Error descargarClientesFinales CATCH")})))}))["catch"]((function(e){t.error("Error en nuevoCliente() - MenuCliente.vue")}))}function O(){e.dispatch("setModoActual","NORMAL"),e.dispatch("Clientes/resetClienteActivo"),e.dispatch("Footer/resetMenuActivo"),D.a.post("articulos/setEstadoTarifaVIP",{nuevoEstado:!1}).then((function(e){m.hide(),t.info("Reset OK. Estado de cobro: NORMAL")}))["catch"]((function(t){console.log(t)})),D.a.post("promociones/setEstadoPromociones",{estadoPromociones:!0})}function j(o){D.a.post("clientes/comprobarVIP",{idClienteFinal:o.id}).then((function(a){!1===a.data.error?(0==a.data.info.pagaEnTienda&&(o["pagaEnTienda"]=!1),a.data.info.esVip?(e.dispatch("Clientes/setInfoClienteVip",a.data.info.datosCliente),e.dispatch("setModoActual","VIP")):(o["puntos"]=a.data.info.puntos,e.dispatch("setModoActual","CLIENTE")),e.dispatch("Clientes/setClienteActivo",o),e.dispatch("Footer/setMenuActivo",1),m.hide(),t.success("Cliente seleccionado")):t.error("Error. Comprobar consola "+a.data.mensaje)}))["catch"]((function(e){console.log(e),t.error("Error. Comprobar consola 2")}))}function g(){D.a.post("clientes/buscar",{busqueda:i.value}).then((function(t){d.value=t.data}))["catch"]((function(t){console.log(t)}))}function C(t){Object(ut["a"])("consultarPuntos",{idClienteFinal:t})}var A="";function M(e){var o=e.keyCode;13==o?(D.a.post("clientes/buscar",{busqueda:A}).then((function(e){e.data&&e.data.length>0&&D.a.post("clientes/getClienteByID",{idCliente:e.data[0].id}).then((function(e){e.data.error?t.error(e.data.mensaje):j(e.data.infoCliente)}))["catch"]((function(e){console.log(e),t.error(e.message)}))})),A=""):16!=o&&(A+=e.key)}return Object(n["v"])((function(){document.addEventListener("keydown",(function(t){M(t),t.stopImmediatePropagation()}),!0),m=new st["a"](document.getElementById("modalClientes"),{keyboard:!1})})),{nuevoCliente:v,reset:O,infoPuntos:C,inputBusqueda:i,buscar:g,nombre:r,arrayClientes:d,selectGlovo:p,selectUber:h,selectToGoodToGo:f,selectCliente:j,clienteActivo:u,nombreClienteNuevo:s,nTarjetaNueva:l}},watch:{inputBusqueda:function(){this.inputBusqueda.length>=3&&this.buscar()}}};o("a458");const Ua=f()(_a,[["render",Ra],["__scopeId","data-v-345ee70e"]]);var La=Ua,Fa={name:"Footer",setup:function(){var t=Object(lt["b"])(),e=Object(n["C"])(""),o=Object(n["C"])(""),a=Object(b["b"])(),c=Object(n["c"])((function(){return a.state.Cesta.cesta})),r=Object(n["c"])((function(){return a.state.Cesta.activo})),i=Object(n["c"])((function(){return a.state.Notificaciones.cantidad})),s=null,l=Object(n["c"])((function(){return a.state.unidades})),u=Object(n["c"])((function(){return a.state.Trabajadores.trabajadorActivo})),d=Object(n["c"])((function(){return a.state.Trabajadores.nombreTrabajadorActivo})),m=Object(n["C"])([]),p=Object(n["c"])((function(){return a.state.Footer.menuActivo})),f=Object(n["c"])((function(){return a.state.modoActual})),h=Object(n["c"])((function(){return a.state.Clientes.infoCliente})),v=a.getters["Clientes/getGlovo"],O=a.getters["Clientes/getDeliveroo"],j=a.getters["Clientes/getUber"],g=a.getters["Clientes/getTooGoodToGo"],C=Object(n["C"])(""),A=a.getters["Cesta/getName"],M=Object(n["C"])(!1),k=Object(n["C"])(!1);function I(){a.dispatch("BuscarProductos/abrirModal")}function y(){t.info("Para habilitar esta opción se tiene que hacer desde www.Gestiondelatienda.com")}function T(){var t=new Date,e=t.getSeconds(),o=t.getMinutes(),a=t.getHours();C.value=("0"+a).substr(-2)+":"+("0"+o).substr(-2)+":"+("0"+e).substr(-2)}setInterval(T,1e3);var x=null,E=null,P=null,w=Object(n["C"])([]),S=Object(n["C"])([]);function B(){x=new Date}function N(){E=new Date;var e=Math.abs(E-x);e>=2e3&&(a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),D.a.post("articulos/setEstadoTarifaVIP",{nuevoEstado:!1}).then((function(e){modalClientes.hide(),t.info("Reset OK. Estado de cobro: NORMAL")}))["catch"]((function(t){console.log(t)})),Cn.go("/"))}function R(e){D.a.post("cestas/regalarProducto",{idCesta:a.getters["Cesta/getCestaId"],index:-1*(e-(c.value.lista.length-1))}).then((function(e){0==e.data.error?(console.log("regalar"),a.dispatch("Cesta/setCestaAction",e.data.cesta)):t.error(e.data.mensaje)}))["catch"]((function(e){console.log(e),t.error("Error, no se ha podido modificar la cesta para regalo")}))}function _(t){for(var e=[8641,8654,8640,8675,99,315,314,312,5603],o=0;o<e.length;o++)if(e[o]==t)return!0;return!1}function U(t,e){return!!(Math.trunc(.03*h.value.puntos*.02)>=t&&_(e))}var L=null,F=Object(n["c"])((function(){for(var t=0,e=0;e<c.value.lista.length;e+=1)e!==L&&(t+=c.value.lista[e].subtotal);return t.toFixed(2)})),V=Object(n["c"])((function(){var t=c.value.lista;return t.reverse()}));function G(){D.a.post("trabajadores/setActivo",{nombre:u.value}).then((function(t){t.data.error?console.log("Error al cambiar trabajador activo"):a.dispatch("Trabajadores/setTrabajadorActivo",u.value)}))}function z(){t.info("Deshabilitado temporalmente")}function q(){t.info("Deshabilitado temporalmente")}function H(){D.a.post("tickets/getTicketsIntervalo").then((function(t){D.a.post("impresora/imprimirTicket",{idTicket:t.data.length})}))}var K=Object(n["c"])((function(){return F.value.replace(".",",")}));function J(e,o,n,c){""!=u.value?D.a.post("tickets/crearTicketDeuda",{total:Number(e),idCesta:o,idCliente:n,infoClienteVip:c}).then((function(e){e.data.error?t.error("Error al insertar el ticket"):(D.a.post("/cestas/getCesta").then((function(t){a.dispatch("Cesta/setCestaAction",t.data)})),a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),t.success("¡Ticket en modo DEUDA creado!"))}))["catch"]((function(e){console.log(e),t.error("Error al insertar el ticket")})):t.info("¡ Es necesario un trabajador/a activ@ !")}function W(e,o){D.a.post("devoluciones/nuevaDevolucion",{total:e,idCesta:o}).then((function(e){0==e.data.error?(D.a.post("promociones/setEstadoPromociones",{estadoPromociones:!0}),D.a.post("/cestas/getCesta").then((function(t){console.log("cerar devolucion "),a.dispatch("Cesta/setCestaAction",t.data)})),a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),t.success("¡Devolución OK!")):t.error(e.data.mensaje)}))["catch"]((function(e){console.log(e),t.error("Error, no se ha podido crear la devolución")}))}function Q(e){D.a.post("tickets/crearTicketConsumoPersonal",{idCesta:e}).then((function(e){e.data.error?t.error("Error al insertar el ticket"):(D.a.post("/cestas/getCesta").then((function(t){a.dispatch("Cesta/setCestaAction",t.data)})),a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),t.success("¡Consumo personal OK!"))}))["catch"]((function(e){console.log(e),t.error("Error al insertar el ticket")}))}function X(){if("MODIFICAR_ARTICULO"===f.value||"MOVER_ARTICULO"===f.value)return a.dispatch("setModoActual","NORMAL"),void Cn.push("/");if(D.a.post("impresora/despedida"),0!=F.value)if(""!=u.value){var e=a.getters["Clientes/getClientePagaEnTienda"],o=a.getters["getModoActual"],n=a.getters["Clientes/getInfoClienteVip"],c=a.getters["Clientes/getInfoCliente"],r=a.getters["Cesta/getCestaId"];"VIP"==o&&(e=!0),1==e&&"DEVOLUCION"!=o&&"CONSUMO PERSONAL"!=o||"CLIENTE"==o?Cn.push("/cobro"):"VIP"==o&&0==e&&(console.log("entro2"),J(Number(F.value),r,c,n)),"DEVOLUCION"==o&&W(Number(F.value),r),"CONSUMO PERSONAL"==o&&Q(r)}else t.info("¡ Es necesario un trabajador/a activ@ !");else D.a.post("impresora/abrirCajon"),t.error("¡Seleciona un artículo para cobrar!")}function Z(){1===p.value?a.dispatch("Footer/setMenuActivo",0):a.dispatch("Footer/setMenuActivo",p.value+1)}function Y(t){a.dispatch("addDigitoUnidades",t)}function $(){a.dispatch("borrarDigitoUnidades")}function tt(t){r.value===t&&D.a.post("/cestas/modificarSuplementos",{cestaId:a.getters["Cesta/getCestaId"],idArticulo:a.getters["Cesta/getItem"],posArticulo:t}).then((function(t){if(t.data.suplementos){w.value=t.data.suplementosData,console.log("🚀 ~ file: Footer.vue ~ line 516 ~ axios.post ~ suplementos.value",w.value);for(var e=0;e<t.data.suplementosSeleccionados.length;e++)et(t.data.suplementosSeleccionados[e]);P.show()}}))["catch"]((function(t){console.log(t)})),a.dispatch("Cesta/setActivoAction",t)}function et(t){var e=S.value.findIndex((function(e){return e.suplemento===t}));-1===e?S.value.push({suplemento:t,activo:!0}):S.value.splice(e,1)}function ot(t){var e=S.value.findIndex((function(e){return e.suplemento===t}));return-1!==e}function at(){D.a.post("cestas/addSuplemento",{idCesta:a.getters["Cesta/getCestaId"],suplementos:S.value,idArticulo:a.getters["Cesta/getItem"],posArticulo:r.value}).then((function(t){t.data.error||t.data.bloqueado?console.log("Error en clickSuplemento"):(a.dispatch("resetUnidades"),console.log("suplemento"),a.dispatch("Cesta/setCestaAction",t.data.cesta),S.value=[],nt())}))["catch"]((function(e){console.log(e),t.error("Error. Comprobar consola.")}))}function nt(){P.hide()}function ct(){null===r.value?D.a.post("/cestas/borrarArticulosCesta",{idCesta:c.value._id}).then((function(e){0==e.data.error?a.dispatch("Cesta/setCestaAction",e.data.info):t.error(e.data.mensaje)})):D.a.post("/cestas/borrarItemCesta",{_id:a.state.Cesta.cesta._id,idArticulo:a.getters["Cesta/getItem"]}).then((function(t){t.data.okey?a.dispatch("Cesta/setCestaAction",t.data.cestaNueva):console.log(t.data.okey)})),a.dispatch("Cesta/setActivoAction",null)}function rt(){Cn.push("/menu/caja/tickets")}return Object(n["v"])((function(){D.a.get("getInfo/tocGame").then((function(t){void 0!=t.data&&null!=t.data&&(e.value=t.data.version,o.value=t.data.nombreTienda)}))["catch"]((function(e){console.log(e),t.error("Error en getVersion CATCH")})),D.a.post("parametros/getParametros").then((function(t){void 0!=t.data.parametros.ProhibirCercaArticles?"Si"==t.data.parametros.ProhibirCercaArticles&&(M.value=!0):M.value=!1,void 0!=t.data.parametros.TriaTaula?"Si"==t.data.parametros.TriaTaula&&(k.value=!0):k.value=!1})),P=new st["a"](document.getElementById("modalSuplementosModificar"),{keyboard:!1,backdrop:"static"}),"DEVOLUCION"!=f.value&&"CLIENTE"!=f.value&&"MODIFICAR_ARTICULO"!==f.value||a.dispatch("Footer/setMenuActivo",1),D.a.post("/trabajadores/getCurrentTrabajador").then((function(t){a.dispatch("Trabajadores/setNombreTrabajadorActivo",t.data.trabajador.nombre),a.dispatch("Trabajadores/setTrabajadorActivo",t.data.trabajador.idTrabajador)}))})),{botonDeshabilitado:q,tocVersion:e,nombreTienda:o,regalar:R,agregarTecla:Y,borrarDigitoUnidades:$,unidades:l,buscarProducto:z,GLOVO:v,TOO_GOOD_TO_GO:g,DELIVEROO:O,UBER:j,thisIsCatalunya:K,infoCliente:h,modoActual:f,touchStart:B,touchEnd:N,menuActivo:p,cambiarMenu:Z,getTotal:F,conCliente:s,cesta:c,sePuedeRegalar:U,activo:r,cestaAlReves:V,setActivo:tt,borrar:ct,showMenu:rt,notificaciones:i,trabajadorActivo:u,arrayTrabajadores:m,cambioActivo:G,goToCobrar:X,cerrarModal:nt,suplementos:w,selectSuplemento:et,checkSuplementoActivo:ot,addSuplemento:at,nombreTrabajador:d,getClock:C,mesa:A,ProhibirCercaArticles:M,imprimirTicket:H,TriaTaula:k,opcionDesabilitada:y,abrirBuscar:I}},components:{MenuClientes:La}};o("d8fa");const Va=f()(Fa,[["render",la],["__scopeId","data-v-2084976c"]]);var Ga=Va,za=function(t){return Object(n["A"])("data-v-be6c452a"),t=t(),Object(n["y"])(),t},qa={class:"modal",id:"modalCrearProducto",tabindex:"-1",role:"dialog"},Ha={class:"modal-dialog",role:"document",style:{"max-width":"600px"}},Ka={class:"modal-content"},Ja=za((function(){return Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Datos del producto")],-1)})),Wa={class:"modal-body"},Qa={class:"row"},Xa={for:"nombreArticulo"},Za=Object(n["j"])("Nombre producto "),Ya=za((function(){return Object(n["h"])("label",{for:"tipoIva"},"Tipo de IVA",-1)})),$a=za((function(){return Object(n["h"])("option",{value:"1"},"4%",-1)})),tn=za((function(){return Object(n["h"])("option",{value:"2"},"10%",-1)})),en=za((function(){return Object(n["h"])("option",{value:"3"},"21%",-1)})),on=[$a,tn,en],an=za((function(){return Object(n["h"])("label",{for:"esSumable"},"¿Se vende a unidades?",-1)})),nn=za((function(){return Object(n["h"])("option",{value:"true"},"Si",-1)})),cn=za((function(){return Object(n["h"])("option",{value:"false"},"No",-1)})),rn=[nn,cn],sn={for:"precioBase"},ln=Object(n["j"])("Precio "),un={class:"modal-footer"};function dn(t,e,o,a,c,r){return Object(n["x"])(),Object(n["g"])("div",qa,[Object(n["h"])("div",Ha,[Object(n["h"])("div",Ka,[Ja,Object(n["h"])("div",Wa,[Object(n["h"])("div",Qa,[Object(n["h"])("label",Xa,[Za,Object(n["R"])(Object(n["h"])("input",{id:"nombreArticulo",type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.nombreArticulo=t})},null,512),[[n["N"],a.nombreArticulo]])]),Ya,Object(n["R"])(Object(n["h"])("select",{name:"tipoIva",id:"tipoIva","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.tipoIva=t}),class:"form-control"},on,512),[[n["M"],a.tipoIva]]),an,Object(n["R"])(Object(n["h"])("select",{name:"esSumable",id:"esSumable","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.esSumable=t}),class:"form-control"},rn,512),[[n["M"],a.esSumable]]),Object(n["h"])("label",sn,[ln,Object(n["R"])(Object(n["h"])("input",{id:"precioBase",type:"number",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.precioBase=t})},null,512),[[n["N"],a.precioBase]])])])]),Object(n["h"])("div",un,[Object(n["h"])("button",{type:"button",class:"btn btn-primary mr-0",onClick:e[4]||(e[4]=function(t){return a.confirmar()})},"OK ")])])])])}var bn=o("b1f8"),mn={name:"CrearProducto",setup:function(){Object(lt["b"])();var t=Object(b["b"])(),e=Object(n["C"])(0),o=Object(n["C"])(0),a=Object(n["C"])(!1),c=Object(n["C"])(3),r=Object(n["C"])(""),i=Object(n["C"])(""),s=Object(n["C"])(0);function l(){switch(c.value){case"1":parseFloat(e.value),Object(bn["a"])("precioConIva"),e.value=parseFloat(e.value)/1.04;break;case"2":parseFloat(e.value),Object(bn["a"])("precioConIva"),e.value=parseFloat(e.value)/1.1;break;case"3":parseFloat(e.value),Object(bn["a"])("precioConIva"),e.value=parseFloat(e.value)/1.21;break;default:parseFloat(e.value),Object(bn["a"])("precioConIva"),e.value=parseFloat(e.value)/1.21;break}switch(a.value){case"true":a.value=!0;break;case"false":a.value=!1;break;default:break}s.value=t.state.ModalCrearProducto.posicion,i.value=t.state.ModalCrearProducto.menu,D.a.post("teclado/anadirProducto",{nombreArticulo:r.value,precioConIva:o.value,esSumable:a.value,precioBase:parseFloat(e.value),tipoIva:parseFloat(c.value),menus:i.value,posicion:s.value}).then((function(n){r.value="",e.value=0,o.value=0,c.value=3,a.value=!1,t.dispatch("ModalCrearProducto/cerrarModal")}))}return Object(n["v"])((function(){t.dispatch("ModalCrearProducto/setModal")})),{nombreArticulo:r,precioBase:e,precioConIva:o,tipoIva:c,confirmar:l,menus:i,esSumable:a,posicion:s}}};o("82ac");const pn=f()(mn,[["render",dn],["__scopeId","data-v-be6c452a"]]);var fn=pn,hn={name:"Home",props:{tipoToast:{required:!1},mensajeToast:{required:!1}},setup:function(t){var e=Object(lt["b"])();Object(b["b"])();return void 0!=t.tipoToast&&void 0!=t.mensajeToast&&e(t.mensajeToast,{type:t.tipoToast}),{}},components:{Teclas:pt,ModalPeso:_t,ModalEditarProducto:ie,ModalMostrarAlergenos:v,ModalCrearProducto:fn,Footer:Ga,BuscarProducto:_}};const vn=f()(hn,[["render",c]]);var On=vn,jn=[{path:"/",name:"Home",props:!0,component:On},{path:"/doctor",name:"Doctor",component:function(){return o.e("chunk-6f2a601c").then(o.bind(null,"658a"))}},{path:"/cobro",name:"Cobro",component:function(){return o.e("chunk-488aee38").then(o.bind(null,"fbdc"))}},{path:"/menuResponsable",name:"Menu Responsable",component:function(){return o.e("chunk-26cce388").then(o.bind(null,"8287"))}},{path:"/installWizard",name:"InstallWizard",component:function(){return o.e("chunk-1455e880").then(o.bind(null,"7b47"))}},{path:"/abrirCaja",name:"Abrir Caja",component:function(){return o.e("chunk-09bbef7a").then(o.bind(null,"ab83"))}},{path:"/menuTecnico",name:"Menu Técnico",component:function(){return Promise.all([o.e("chunk-095a9c03"),o.e("chunk-939fc910")]).then(o.bind(null,"37c0"))}},{path:"/cerrarCaja",name:"Cerrar Caja",component:function(){return o.e("chunk-9ab57800").then(o.bind(null,"06f0"))}},{path:"/menu/",name:"Menu",component:function(){return o.e("chunk-fa31890e").then(o.bind(null,"9a0b"))},children:[{path:"caja",name:"cajaMenu",component:function(){return Promise.all([o.e("chunk-63430611"),o.e("chunk-6ef171ab")]).then(o.bind(null,"f75f"))},children:[{path:"tickets",name:"tickets",component:function(){return Promise.all([o.e("chunk-63430611"),o.e("chunk-72cba459")]).then(o.bind(null,"4461"))}},{path:"salida",name:"salidaDinero",component:function(){return o.e("chunk-2d0c1f2a").then(o.bind(null,"47e6"))}},{path:"entrada",name:"entradaDinero",component:function(){return o.e("chunk-2d0c84b3").then(o.bind(null,"53ed"))}},{path:"ver-caja",name:"Ver Caja",component:function(){return o.e("chunk-645491b0").then(o.bind(null,"ef15"))}},{path:"cerrar-caja",name:"cerrarCaja",component:function(){return o.e("chunk-2487b823").then(o.bind(null,"0d3c"))}}]},{path:"fichajes",component:function(){return Promise.all([o.e("chunk-095a9c03"),o.e("chunk-4c0a0247")]).then(o.bind(null,"308b"))}},{path:"pedidos/:codiBotiga/:database",component:function(){return o.e("chunk-2d0c0fca").then(o.bind(null,"43b7"))}},{path:"devoluciones",component:function(){return o.e("chunk-2d20fa52").then(o.bind(null,"b509"))}},{path:"entregas",component:function(){return o.e("chunk-2d0cfe14").then(o.bind(null,"6631"))}}]},{path:"/mesas",name:"Mesas",component:function(){return o.e("chunk-94a6324c").then(o.bind(null,"f19c"))}}],gn=Object(a["a"])({history:Object(a["b"])("/"),routes:jn}),Cn=e["a"]=gn},a458:function(t,e,o){"use strict";o("c0ff")},a5e9:function(t,e,o){},c0ff:function(t,e,o){},d5df:function(t,e,o){},d8fa:function(t,e,o){"use strict";o("d5df")},de34:function(t,e,o){"use strict";o("a5e9")},e6d6:function(t,e,o){"use strict";o("4421")},f06f:function(t,e,o){"use strict";o.d(e,"a",(function(){return p}));var a=o("d4ec"),n=o("bee2"),c=o("ade3"),r=o("bc3a"),i=o.n(r),s=o("4360"),l=o("a18c"),u=o("0180"),d=Object(u["b"])(),b="http://localhost:3000/",m=function(){function t(){var e=this;Object(a["a"])(this,t),Object(c["a"])(this,"parametros",null),i.a.post(b+"parametros/getParametros").then((function(t){if(!1!==t.data.error)throw"Error en parametros/getParametros";e.parametros=t.data.parametros}))["catch"]((function(t){console.log(t)}))}return Object(n["a"])(t,[{key:"getParametros",value:function(){return this.parametros}},{key:"hayFichados",value:function(){return i.a.post(b+"trabajadores/getTrabajadoresFichados").then((function(t){return 0==t.data.error?t.data.res.length>0||(d.info("No hay nadie fichado"),!1):(alert("Error en tocGame.js - AXIOS trabajadores/getTrabajadoresFichados"),!1)}))["catch"]((function(t){return console.log(t),!1}))}},{key:"cajaAbierta",value:function(){return i.a.post(b+"caja/estadoCaja").then((function(t){return 0==t.data.error?(s["a"].dispatch("Caja/setEstadoCaja",!0),t.data.abierta):(s["a"].dispatch("Caja/setEstadoCaja",!1),!1)}))["catch"]((function(t){return console.log(t),!1}))}},{key:"todoInstalado",value:function(){return i.a.post(b+"parametros/todoInstalado").then((function(t){return t.data.todoInstalado}))["catch"]((function(t){return console.log(t),!1}))}},{key:"iniciarToc",value:function(){console.log("INICIANDO TOC"),p.todoInstalado().then((function(t){t?p.hayFichados().then((function(t){t?p.cajaAbierta().then((function(t){0==t?l["a"].push("/abrirCaja"):i.a.get("trabajadores/getCurrentTrabajadorNueva").then((function(t){var e;0==t.data.error?(s["a"].dispatch("Trabajadores/setTrabajadorActivo",t.data.trabajador.idTrabajador),s["a"].dispatch("Trabajadores/setNombreTrabajadorActivo",t.data.trabajador.nombre),e=-1==s["a"].getters["Cesta/getCestaId"]?t.data.trabajador._id:s["a"].getters["Cesta/getCestaId"],i.a.post("cestas/getCestaByTrabajadorId",{idCesta:e}).then((function(t){!1===t.data.error&&null!=t.data.info?s["a"].dispatch("Cesta/setCestaAction",t.data.info):d.error(t.data.mensaje)}))["catch"]((function(t){console.log(t)}))):d.error(t.data.mensaje)}))["catch"]((function(t){d.error(t.message)}))}))["catch"]((function(t){console.log(t)})):l["a"].push("/menu/fichajes")}))["catch"]((function(t){console.log(t),console.log("Error en catch tocGame.hayFicados()")})):l["a"].push("/installWizard")}))["catch"]((function(t){console.log("Error en catch tocGame.todoInstalado()")}))}}]),t}(),p=new m},fa0c:function(t,e,o){t.exports=o.p+"img/logoDeliveroo.902d9f63.png"}});
//# sourceMappingURL=app.1abcabf4.js.map